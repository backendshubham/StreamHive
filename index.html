<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>TV Remote â€” Multi-Room</title>
<style>
  :root{--bg:#0e0e12;--card:#14141c;--card2:#191923;--fg:#fff;--muted:#b2b2c2;--border:#242438;--accent:#6ee7ff;--accent2:#7c5cff}
  html,body{height:100%} body{margin:0;background:
    radial-gradient(1200px 600px at 100% -20%, rgba(124,92,255,.18), transparent 60%),
    radial-gradient(900px 500px at -10% 110%, rgba(110,231,255,.18), transparent 60%),
    linear-gradient(180deg, #0b0b10, #0e0e12 30%); color:var(--fg);
    font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
  .wrap{min-height:100%;display:grid;place-items:center;padding:32px}
  .card{background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid var(--border);border-radius:16px;padding:22px;max-width:720px;width:100%;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  h1{margin:0 0 12px 0;font-size:24px}
  .muted{color:var(--muted)}
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .input{flex:1;background:#0f0f18;border:1px solid var(--border);color:#d7eafe;padding:12px;border-radius:10px;font-family:ui-monospace,monospace}
  .btn{padding:12px 14px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:#fff;font-weight:700;text-decoration:none}
  .grid{display:grid;gap:12px;grid-template-columns:1fr 1fr}
  @media (max-width:720px){.grid{grid-template-columns:1fr}}
  .copyrow{display:flex;gap:10px;align-items:stretch;margin-top:10px}
</style></head>
<body>
<div class="wrap"><div class="card">
  <h1>Real-time TV Remote â€” Multi-Room</h1>
  <p class="muted small">Create a <strong>Room ID</strong> and share its TV/Remote links with people in that place.</p>
  <div class="row">
    <input id="room" class="input" placeholder="e.g. cafe-42 or my-home" />
    <button id="go" class="btn">Create / Join</button>
  </div>
  <div id="links" style="display:none;margin-top:16px">
    <div class="grid">
      <a class="btn" id="tvBtn" href="#">ðŸ“º Open TV</a>
      <a class="btn" id="remoteBtn" href="#">ðŸ“± Open Remote</a>
    </div>
    <div class="copyrow">
      <input class="input" id="tvUrl" readonly/>
      <button class="btn" data-copy="tvUrl">Copy TV Link</button>
    </div>
    <div class="copyrow">
      <input class="input" id="remoteUrl" readonly/>
      <button class="btn" data-copy="remoteUrl">Copy Remote Link</button>
    </div>
  </div>
</div></div>
<script>
(function(){
  const roomInput = document.getElementById('room');
  const goBtn = document.getElementById('go');
  const links = document.getElementById('links');
  const tvUrl = document.getElementById('tvUrl');
  const remoteUrl = document.getElementById('remoteUrl');
  const tvBtn = document.getElementById('tvBtn');
  const remoteBtn = document.getElementById('remoteBtn');

  function slugify(s){
    return String(s||'').trim().toLowerCase().replace(/[^a-z0-9_-]+/g,'-').replace(/^-+|-+$/g,'').slice(0,64);
  }
  function showLinks(room){
    const base = window.location.origin;
    const tv = base + '/' + room + '/tv';
    const remote = base + '/' + room + '/remote';
    tvUrl.value = tv; remoteUrl.value = remote;
    tvBtn.href = tv; remoteBtn.href = remote;
    links.style.display = '';
  }
  goBtn.addEventListener('click', ()=>{
    const room = slugify(roomInput.value);
    if(!room){ roomInput.focus(); return; }
    showLinks(room);
  });
  document.querySelectorAll('[data-copy]').forEach(btn=>{
    btn.addEventListener('click', async ()=>{
      const id = btn.getAttribute('data-copy');
      const el = document.getElementById(id);
      try { await navigator.clipboard.writeText(el.value); btn.textContent='Copied âœ“'; setTimeout(()=>btn.textContent='Copy ' + (id==='tvUrl'?'TV':'Remote') + ' Link', 900); }
      catch { el.select(); document.execCommand('copy'); }
    });
  });
})();
</script>
</body>
</html>
